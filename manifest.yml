---
# See manifest.yml documentation available at:
# https://docs.developer.swisscom.com/devguide/deploy-apps/manifest.html

applications:
- name: appcloud-backman-app
  memory: 1G
  disk_quota: 1G
  instances: 1
  health-check-type: port

  routes:
  - route: appcloud-backman-app.scapp.io
  - route: appcloud-backman-app.applicationcloud.io

  services:
  - backman-storage
  # - my_mysql_db
  # - my_postgres_db

  buildpacks:
  - https://github.com/cloudfoundry/apt-buildpack
  - go_buildpack
  command: appcloud-backman-app
  path: .

  env:
    USERNAME: ((username))
    PASSWORD: ((password))
    LOG_LEVEL: debug
    # ENABLE_LOGGING_TIMESTAMP: false # defaults to false for CF
    S3_SERVICE_LABEL: dynstrg
    # S3_BUCKET_NAME: my-backup-bucket # optional, using service-instance/binding-name if missing
    # IN_MEMORY_BACKUPS: false # optional, defaults to false, whether to temporarily store backups during creation in memory or on disk
